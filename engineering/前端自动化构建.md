## 1. 概述

自动化构建是前端工程化中非常重要的组成部分，实际上指的是通过机器代替手工完成工作。构建过程可以理解为转换，就是把一个东西换转换成另外一些东西。总的来说开发行业的自动化构建就是把开发阶段写出来的源代码自动化的转换成生产环境中可以运行的代码或者程序。

一般会把转换的过程称之为自动化构建工作流，他的作用就是尽可能脱离运行环境的种种问题，在开发阶段使用一些提高效率的语法、规范和标准。

最典型的应用场景就是开发网页应用时可以使用```ECMAScript```最新标准提高编码效率和质量。利用```sass```增强```css```的可编程性，然后借助模板引擎抽象页面当中重复的```html```。

这些用法在浏览器当中是没有办法直接被支持的，这种情况下自动化构建工具就派上用场了，通过自动化构建的方式将这些不被支持的代码特性转换成能够直接运行的代码。就可以尽情在开发过程中使用这些方式提高编码效率了。

## 2. 编译

在这个案例中通过```sass```增强```css```的编程性。具体的实现就是在开发时添加一个构建的环节，这样在开发环节就可以通过```sass```编写样式再通过工具将```sass```构建为```css```。

新建一个```scss```文件，在这个文件中可以按照```sass```的语法去编写网页样式。

```scss
$body-bg: #f8f9fb;
$body-color: #333;

body {
    margin: 0 auto;
    padding: 20px;
    background-color: $body-bg;
    color: $body-color;
}
```

但是```sass```并不能在浏览器环境中直接使用，所以需要在开发阶段通过工具把他转换成```css```。这里使用```sass```官方提供的```sass```模块。

```s
yarn add sass --dev
```

要指定```sass```的输入路径和```css```的输出路径，输入路径是```main.scss```, 输出路径是```style.css```。

```s
./node_modules/.bin/sass main.scss style.css
```

```sass```会自动添加对应的```source-map```文件在调试阶段可以定位到代码中源代码的位置。

## 3. 命令

可以在```package.json```的```script```中定义一些与这个项目开发过程有关的脚本命令，这样一来就可以让这些命令跟着项目一起去维护，便于在后期开发过程的使用。最好的方式就是通过```npm scripts```方式包装构建命令。

具体的实现方式就是在```package.json```当中去添加一个```scripts```字段，这个字段是一个对象，键就是命令的名称，值是需要执行的命令。

```json
"script": {
    "build": "sass main.scss style.css"
}
```

完成过后可以通过```npm```或者```yarn```去启动这个```script```，```yarn```当中可以省略这个```run```。

```s
npm run build
yarn build
```

```npm scripts```是实现自动化构建最简单的方式，这里安装```browser-sync```的模块，用于启动测试服务器, 运行项目。

```s
yarn add browser-sync --de